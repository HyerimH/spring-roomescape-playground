# π— λ°©νƒμ¶ μμ•½ μ‹μ¤ν… (Spring MVC)

## π― ν”„λ΅μ νΈ κ°μ”

### π  ν™ ν™”λ©΄
- κ΄€λ¦¬μ μ „μ© ν™ νμ΄μ§€μ…λ‹λ‹¤.
- μΆμΈ΅ μ‚¬μ΄λ“λ°”μ—μ„ νμ΄μ§€λ¥Ό μ΄λ™ν•  μ μμµλ‹λ‹¤.
- `/` κ²½λ΅λ΅ μ ‘μ† μ‹ ν™ ν™”λ©΄(`index.html`)μ΄ λ λ”λ§λ©λ‹λ‹¤.

### π“… μμ•½ κ΄€λ¦¬
- λ“±λ΅λ μμ•½ λ©λ΅μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.
- μ΄λ¦„, λ‚ μ§, μ‹κ°„λ³„λ΅ μ •λ¦¬λμ–΄ λ³΄μ—¬μ§‘λ‹λ‹¤.
- μƒλ΅μ΄ μμ•½μ„ μ΄λ¦„, λ‚ μ§, μ‹κ°„μ„ μ…λ ¥ν•μ—¬ λ“±λ΅ν•  μ μμµλ‹λ‹¤.
- κΈ°μ΅΄ μμ•½μ„ μ„ νƒν•μ—¬ μ‚­μ ν•  μ μμµλ‹λ‹¤.
- `/reservation` κ²½λ΅λ΅ μ ‘μ† μ‹ μμ•½ κ΄€λ¦¬ ν™”λ©΄(`new-reservation.html`)μ΄ λ λ”λ§λ©λ‹λ‹¤.

### β° μ‹κ°„ κ΄€λ¦¬
- λ“±λ΅λ μ‹κ°„ λ©λ΅μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.
- μƒλ΅μ΄ μ‹κ°„μ„ μ…λ ¥ν•μ—¬ λ“±λ΅ν•  μ μμµλ‹λ‹¤.
- κΈ°μ΅΄ μ‹κ°„μ„ μ„ νƒν•μ—¬ μ‚­μ ν•  μ μμµλ‹λ‹¤.
- `/time` κ²½λ΅λ΅ μ ‘μ† μ‹ μ‹κ°„ κ΄€λ¦¬ ν™”λ©΄(`time.html`)μ΄ λ λ”λ§λ©λ‹λ‹¤.

---

## π“ API λ¬Έμ„
### π›  μ—”λ“ν¬μΈνΈ μ”μ•½

| λ©”μ„λ“    | κ²½λ΅                   | μ„¤λ…           | μ”μ²­ λ³Έλ¬Έ             | μ‘λ‹µ μ½”λ“          |
| ------ | -------------------- | ------------ | ----------------- | -------------- |
| GET    | `/reservations`      | λ¨λ“  μμ•½ λ©λ΅ μ΅°ν  | μ—†μ                | 200 OK         |
| POST   | `/reservations`      | μƒ μμ•½ μƒμ„±      | JSON (μ΄λ¦„, λ‚ μ§, μ‹κ°„) | 201 Created    |
| DELETE | `/reservations/{id}` | μ§€μ •λ μμ•½ μ‚­μ     | μ—†μ                | 204 No Content |
| GET    | `/times`             | λ“±λ΅λ μ‹κ°„ λ©λ΅ μ΅°ν | μ—†μ                | 200 OK         |
| POST   | `/times`             | μƒ μ‹κ°„ λ“±λ΅      | JSON (μ‹κ°„)         | 201 Created    |
| DELETE | `/times/{id}`        | μ§€μ •λ μ‹κ°„ μ‚­μ     | μ—†μ                | 204 No Content |


### π“‹ μ—”λ“ν¬μΈνΈ μƒμ„Έ

#### 1. μμ•½ λ©λ΅ μ΅°ν

- **λ©”μ„λ“**: `GET`
- **κ²½λ΅**: `/reservations`
- **νƒ€μ…**: `application/json`
- **μ„¤λ…**: λ“±λ΅λ λ¨λ“  μμ•½μ„ λ°ν™ν•©λ‹λ‹¤.
- **μ‘λ‹µ**:
    - μƒνƒ μ½”λ“: `200 OK`
    - λ³Έλ¬Έ:
```json
[
  {
    "id": 1,
    "name": "λΈλΌμ΄",
    "date": "2023-01-01",
    "time": "10:00"
  },
  {
    "id": 2,
    "name": "λΈλΌμ΄",
    "date": "2023-01-02",
    "time": "11:00"
  }
]
```
---
#### 2. μμ•½ μƒμ„±

- **λ©”μ„λ“**: `POST`
- **κ²½λ΅**: `/reservations`
- **νƒ€μ…**: `application/json`
- **μ”μ²­**
```json
{
  "date": "2023-08-05",
  "name": "λΈλΌμ΄",
  "time": "15:40"
}
```
- **μ‘λ‹µ**:
    - μƒνƒ μ½”λ“: `201 Created`
    - ν—¤λ”: `Loaction: /reservation/1`
    - **νƒ€μ…**: `application/json`
    - λ³Έλ¬Έ:
```json
{
  "id": 1,
  "name": "λΈλΌμ΄",
  "date": "2023-08-05",
  "time": "15:40"
}
```
---
#### 3. μμ•½ μ‚­μ 

- **λ©”μ„λ“**: `DELETE`
- **κ²½λ΅**: `/reservations/{id}`
- **νƒ€μ…**: `application/json`
- **μ‘λ‹µ**:
  - μƒνƒ μ½”λ“: `204 No Content`
  - λ³Έλ¬Έ μ—†μ
---
#### 4. μ‹κ°„ λ©λ΅ μ΅°ν

- **λ©”μ„λ“**: `GET`
- **κ²½λ΅**: `/times`
- **νƒ€μ…**: `application/json`
- **μ„¤λ…**: λ“±λ΅λ λ¨λ“  μ‹κ°„μ„ λ°ν™ν•©λ‹λ‹¤.
- **μ‘λ‹µ**:
    - μƒνƒ μ½”λ“: `200 OK`
    - λ³Έλ¬Έ:
```json
[
  {
    "id": 1,
    "time": "10:00"
  },
  {
    "id": 2,
    "time": "11:30"
  }
]
```
---
#### 5. μ‹κ°„ λ“±λ΅

- **λ©”μ„λ“**: `POST`
- **κ²½λ΅**: `/times`
- **νƒ€μ…**: `application/json`
- **μ”μ²­**
```json
{
  "time": "14:00"
}
```
- **μ‘λ‹µ**:
    - μƒνƒ μ½”λ“: `201 Created`
    - ν—¤λ”: `Loaction: /times/1`
    - **νƒ€μ…**: `application/json`
    - λ³Έλ¬Έ:
```json
{
  "id": 1,
  "time": "14:00"
}
```
---
#### 6. μ‹κ°„ μ‚­μ 

- **λ©”μ„λ“**: `DELETE`
- **κ²½λ΅**: `/times/{id}`
- **νƒ€μ…**: `application/json`
- **μ‘λ‹µ**:
    - μƒνƒ μ½”λ“: `204 No Content`
    - λ³Έλ¬Έ μ—†μ

---
## π“ μ°Έκ³ μ‚¬ν•­



**Domain Model**
```mermaid
classDiagram
    class Reservation {
        +Long id
        +String name
        +LocalDate date
        +Long timeId
        +Reservation(String name, LocalDate date, Long timeId)
        +Reservation withId(Long id) Reservation
        +Long getTimeId()
    }
    class Time {
        +Long id
        +LocalTime time
        +Time(LocalTime time)
        +Time withId(Long id) Time
    }

    Reservation --> Time : references
```


### λ°μ΄ν„° ν•μ‹
- `date`: `YYYY-MM-DD` (μ: `2025-05-10`)
- `time`: `HH:MM` (μ: `14:00`)

### κ²€μ¦ μ΅°κ±΄
- μ΄λ¦„: `@NotBlank`
- λ‚ μ§: `@NotNull`
- μ‹κ°„: `@NotNull`

### ID κ΄€λ¦¬
- κΈ°λ³Έ ν‚¤λ” AUTO_INCREMENT λ°©μ‹μΌλ΅ κ΄€λ¦¬
- SimpleJdbcInsertλ¥Ό ν†µν•΄ λ°μ΄ν„°λ² μ΄μ¤μ—μ„ μλ™μΌλ΅ μƒμ„±λ κ°’μ„ λ°›μ•„μ™€ μ‚¬μ©

